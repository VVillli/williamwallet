<!DOCTYPE html>
<html lang = "en">
	<head>
		<meta charset = "UTF-8">
		<meta name = "viewport" content = "width=device-width, initial-scale=1.0">
		<meta http-equiv = "X-UA-Compatible" content = "ie=edge">
		<link rel = "stylesheet" href = "./stylesheets/main.css"/>
		<title>W Wallet</title>
	</head>
	<body>
		<h1>W Wallet</h1>
		<table id = "main-container">
		<tr><td>
		<table border = "1" cellpadding= "5px">
			<tr>
				<th colspan = "2">
					<div>Accounts</div>
					<div class = "tooltip">
						<img src = "images/help.png" alt = "help"/>
						<span class = "tooltiptext">
							Lists all the accounts in your wallet. You can choose to remove the currently selected account or clear all accounts from your wallet.
						</span>
					</div>
				</th>
			</tr>
			<tr>
				<th class = "header">Account:</th>
				<td><select id = "accounts"></select></td>
			</tr>
			<tr>
				<th class = "header">Balance:</th>
				<td id = "balance"></td>
			</tr>
			<tr>
				<td colspan = "2" align = "right"><button id = "clear">Clear Wallet</button><button id = "remove">Remove Account</button></th>
			</tr>
		</table>
		</td></tr><tr><td>
		<!--<table border = "1" cellpadding = "5" id = "trans">
			<col width = "33%">
			<col width = "33%">
			<col width = "33%">
			<tr>
				<th colspan = "3">Transactions</th>
			</tr>
			<tr>
				<th>From</td>
				<th>To</td>
				<th>Amount</td>
			</tr>
		</table>-->
		</td></tr><tr><td>	
		<table border = "1" cellpadding = "5">
			<tr>
				<th colspan = "2">Send Ether
					<div class = "tooltip">
						<img src = "images/help.png" alt = "help"/>
						<span class = "tooltiptext">
							Send ETH from the currently selected account to another account by address. The account address must have "0x" at the beginning to be a valid address. You can check the transaction status by searching the transaction ID at <a href = "https://ropsten.etherscan.io/">https://ropsten.etherscan.io/</a>.
						</span>
					</div>
				</th>
			</tr>
			<tr>
				<th class = "header">Send To:</th>
				<td>
					<input spellcheck="false" id = "send" type = "text">
				</td>
			</tr>
			<tr>
				<th class = "header">Amount:</th>
				<td><input id = "amount" type = "number"></td>
			</tr>
			<tr>
				<td colspan = "2" align = "right"><button id = "submit">Send</button></td>
			</tr>
			<tr>
				<th class = "header">Transaction ID:</th>
				<td id = "trans"></td>
			</tr>
		</table>
		</td></tr><tr><td>
		<table id = "acc-create" border = "1" cellpadding = "5">
			<tr>
				<th colspan = "2">Create New Account
					<div class = "tooltip">
						<img src = "images/help.png" alt = "help"/>
						<span class = "tooltiptext">
							Create a new account and add it to your wallet. Remember to save your address and private key in a secure location for use outside of this wallet, or to import again at a later time. 
							<br/>
							<br/>
							Note: the account will have no ETH upon creation but you can get some test ETH from a <a href = "http://faucet.ropsten.be:3001/">faucet</a> with your address.
						</span>
					</div>
				</th>
			</tr>
			<tr>
				<th class = "header">Address:</th>
				<td id = "newAddress"></td>
			</tr>
			<tr>
				<th class = "header">Private Key:</th>
				<td id = "newPrivate"></td>
			</tr>
			<tr>
				<td colspan = "2" align = "right"><button id = "create">Create Account</button></td>
			</tr>
		</table>
		</td></tr><tr><td>
		<table border = "1" cellpadding = "5">
			<tr>
				<th colspan = "2">Import With Private Key
					<div class = "tooltip">
						<img src = "images/help.png" alt = "help"/>
						<span class = "tooltiptext">
							Import an existing account into your wallet by private key. The private key must have "0x" at the beginning to be a valid address.
						</span>
					</div>
				</th>
			</tr>
			<tr>
				<th class = "header">Private Key:</th>
				<td><input id = "private" type = "password"/></td>
			</tr>
			<tr>
				<td colspan = "2" align = "right"><button id = "add">Import Account</button></td>
			</tr>
		</table>
		</td></tr><tr><td>
		<table border = "1" cellpadding = "5">
			<tr>
				<th colspan = "2">Export Wallet
					<div class = "tooltip">
						<img src = "images/help.png" alt = "help"/>
						<span class = "tooltiptext">
							Encrypt your current wallet as a Keystore file for future use with a passphrase. It is highly recommeded to export if you are planning to leave the website as you will not be able to use your wallet again otherwise.
						</span>
					</div>
				</th>
			</tr>
			<tr>
				<th class = "header">Passphrase:</th>
				<td><input id = "passEx" type = "password"/></td>
			</tr>
			<tr>
				<td colspan = "2" align = "right"><button id = "encrypt">Encrypt Wallet</button></td>
			</tr>
			<tr>
				<td colspan = "2"><textarea style="resize:none"  spellcheck="false" readonly="readonly" id = "keyEx" rows = "7" cols = "33"></textarea></td>
			</tr>
		</table>
		</td></tr><tr><td>
		<table border = "1" cellpadding = "5">
			<tr>
				<th colspan = "2">Import Wallet
					<div class = "tooltip">
						<img src = "images/help.png" alt = "help"/>
						<span class = "tooltiptext">
							Upload a Keystore file containing an encrypted wallet and unlock with your passphrase. If the credentials are correct, the wallet will be imported.
						</span>
					</div>
				</th>
			</tr>
			<tr>
				<th class = "header">Keystore:</th><td align = "right"><label id = "upload">Upload Keystore<input type="file" id="selectFiles"/></label></td>
			</tr>
			<tr>
				<td colspan = "2"><textarea style="resize:none" spellcheck="false" id = "keyIm" rows = "4" cols = "50"></textarea></td>
			</tr>
			<tr>
				<th class = "header">Passphrase:</th>
				<td><input id = "passIm" type = "password"/></td>
			</tr>
			<tr>
				<td colspan = "2" align = "right"><button id = "unlock">Import Wallet</button></th>
			</tr>
		</table>
		</td></tr>
		</table>
		<script type = "text/javascript" src = "config-web.js"></script>
		<script type = "text/javascript" src = "accounts-web.js"></script>
		<script type = "text/javascript" src = "create-account-web.js"></script>
		<script type = "text/javascript" src = "import-account-web.js"></script>
		<script type = "text/javascript" src = "encrypt-web.js"></script>
		<script type = "text/javascript" src = "decrypt-web.js"></script>
		<script type = "text/javascript" src = "send-web.js"></script>
	</body>
</html>